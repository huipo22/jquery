<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	.box{
		width: 800px;
		height: 600px;
		border: 1px solid red;
		margin: 20px auto;
		position: relative;
	}
	.inner{
		width: 150px;
		height: 150px;
		background: pink;
		position: absolute;
	}
	</style>
	<script src="jquery.js"></script>
	<script>
	// $(function(){
	// 	var num=1;
	// 	$('input').click(function(){
	// 		$('<div class="inner">'+(num++)+'</div>').appendTo('.box')
	// 	})
	// 	var $inner=$('.inner');
	// 	$('.box	').delegate('.inner','mousedown',function(eve){
	// 		eve.preventDefault();
	// 		var cx=eve.clientX;//事件源距离浏览器的距离
	// 		var cy=eve.clientY;
	// 		var ox=$(this).position().left; //相对于父元素
	// 		var oy=$(this).position().top;
	// 		var that=this;
	// 		$(document).mousemove(function(eve){
	// 			var nx=eve.clientX;//按下的时候  事件源距离浏览器的距离
	// 			var ny=eve.clientY;
	// 			$(that).css({left:(nx-(cx-ox)),top:(ny-(cy-oy))})
	// 		})
	// 		$(document).mouseup(function(){
	// 			$(document).off("mousemove")
	// 		})
	// 	})
	// })
	$(function(){
		var num=1;
		$('input').click(function(){
			$('<div class="inner">'+(num++)+'</div>').appendTo('.box')
		})
		$('.box').delegate('.inner','mousedown',function(eve){
			eve.preventDefault();
			var cx=eve.clientX;
			var cy=eve.clientY;
			var ox=$(this).position().left;
			var oy=$(this).position().top;
			var that=this;
			$(document).mousemove(function(eve){
				var nx=eve.clientX;
				var ny=eve.clientY;
				$(that).css({left:(nx-(cx-ox)),top:(ny-(cy-oy))});
			})
		})
		$(document).mouseup(function(){
				$(document).off('mousemove')
			})
	})
	</script>
</head>
<body>
	<input type="button" value="创建">
	<div class="box">
		<div class="inner">1111111111</div>
	</div>
</body>
</html>